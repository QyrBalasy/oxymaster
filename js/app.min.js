!function(){"use strict";const t=document.getElementById("burger-menu"),e=document.getElementById("menu");function n(n){const o=n.target;if(o.dataset.goto&&document.querySelector(o.dataset.goto)){const i=document.querySelector(o.dataset.goto);let s=window.pageYOffset;const a=i.getBoundingClientRect().top+s;t.classList.contains("active")&&(document.body.classList.remove("lock"),t.classList.remove("active"),e.classList.remove("overlay")),window.scrollTo({top:a,behavior:"smooth"}),n.preventDefault()}}!function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){const t=document.getElementsByClassName("section-services__item-accordion");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(function(){this.classList.toggle("active");let t=this.previousElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}))}(),function(){let t=document.querySelectorAll("input[data-tel-input]"),e=function(t){return t.value.replace(/\D/g,"")},n=function(t){let n=t.target,o=e(n),i="",s=n.selectionStart;if(!o)return n.value="";n.value.length==s?(["7","8","9"].indexOf(o[0])>-1?("9"==o[0]&&(o="7"+o),i=("8"==o[0]?"8":"+7")+" ",o.length>1&&(i+="("+o.substring(1,4)),o.length>=5&&(i+=") "+o.substring(4,7)),o.length>=8&&(i+="-"+o.substring(7,9)),o.length>=10&&(i+="-"+o.substring(9,11))):i="+"+o.substring(0,16),n.value=i):t.data&&/\D/g.test(t.data)&&(n.value=o)},o=function(t){let n=t.target;8==t.keyCode&&1==e(n).length&&(n.value="")},i=function(t){let n=t.clipboardData||window.clipboardData,o=t.target,i=e(o);if(n){let t=n.getData("text");/\D/g.test(t)&&(o.value=i)}};for(let e=0;e<t.length;e++){let s=t[e];s.addEventListener("input",n),s.addEventListener("keydown",o),s.addEventListener("paste",i)}}(),function(){let t=document.querySelector(".modal"),e=document.querySelectorAll(".trigger"),n=document.querySelector(".close-button");function o(){t.classList.toggle("show-modal")}for(let t=0;t<e.length;t++)e[t].addEventListener("click",o);n.addEventListener("click",o),window.addEventListener("click",(function(e){e.target===t&&o()}))}(),t&&t.addEventListener("click",(function(n){document.body.classList.toggle("lock"),t.classList.toggle("active"),e.classList.toggle("overlay")})),function(){const t=document.querySelectorAll(".menu__list-item__link[data-goto]");t.length>0&&t.forEach((t=>{t.addEventListener("click",n)}))}(),function(){const t=document.forms.form,e=Array.from(t),n=[];t.elements.button,e.forEach((t=>{t.hasAttribute("data-reg")&&(t.setAttribute("is-valid","0"),n.push(t))})),t.addEventListener("input",(function({target:t}){t.hasAttribute("data-reg")&&function(t){const e=t.value,n=t.getAttribute("data-reg");new RegExp(n).test(e)?(t.setAttribute("is-valid","1"),t.style.border="2px solid rgb(0, 196, 0)"):(t.setAttribute("is-valid","0"),t.style.border="2px solid rgb(255, 0, 0)")}(t)})),t.addEventListener("submit",(function(e){e.preventDefault();const o=[];n.forEach((t=>{o.push(t.getAttribute("is-valid"))}));const i=o.reduce(((t,e)=>t&&e));Boolean(Number(i))?async function(){const e=new FormData(t),o=await async function(t){return await fetch("send_mail.php",{method:"POST",body:t})}(e);if(o.ok){let e=await o.json();alert(e.message),t.reset(),n.forEach((t=>{t.setAttribute("is-valid",0),t.style.border="none"}))}else alert("Код ошибки: "+o.status)}():alert("Заполните поля правильно!")}))}()}();